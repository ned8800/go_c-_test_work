# go_c-_test_work

## Как запускать:

сервер
```
go run ./cmd/broker/main.go 
```

клиент
```
go run ./cmd/pubsubservice/main.g
```

## Как работает

cmd/broker/main.go -- это файл запуска grpc сервера. Сервер запускается на порте
  из конфигурационного файла и принимает соединения от клиентов.

cmd/pubsubservice/main.go -- это файл запуска клиента. Клиент открывает соединение
  с сервером и подписывается на него по имени, указанном в конфигурационном файле.

Можно запускать несколько клиентов для одного сервера в разных терминалах.

Всё, что клиент пишет в терминал, отправляется на сервер, а затем всем подписавшемся клиентам.

## Структура конфигурационного файла

```yml
server:
  grpc_address: ":8080"
  client_subject: "abracadabra"
```

grpc_address -- адрес, на котором будет запускаться сервер
client_subject -- на какое название топика подписывается клиент

## Дополнительная информация

используется gracefull shutdown для cmd/broker/main.go

